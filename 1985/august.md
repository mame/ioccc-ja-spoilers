---
id: 1985/august
year: 1985
order: 2
authors: "Lennart_Augustsson"
orig_url: "https://www.ioccc.org/1985/august/august.c"
hint_url: "https://www.ioccc.org/1985/august/hint.html"
award: "The most obscure program"
award_ja: "もっとも不明瞭なプログラム"
---

## 動作

2進数表記で素数を列挙する。

```
$ gcc -o august august.c

$ ./august

10
11
101
111
1011
1101
10001
10011
10111
11101
11111
100101
...
```

## 解説

初の数学ネタの作品。

関数ポインタと再帰とループとリスト構造が無駄に駆使されたプログラムが本体であり、それをマクロで圧縮している。
`struct b`や`struct c`と変数名`b`や`c`がいやらしい形で同居しており、賞名の通り、かなり見通しが悪いプログラムとなっている。

素数列挙アルゴリズム自体は、試し割りだと思う。
これまでの発見した素数のリストを保持していて、このリストを再帰呼び出しを使ってそのリストをたどりつつ、リストのノードが持つ素数で割り切れたら検査対象の数を1増やして再挑戦する、ということを行っている。
全貌をきちんと理解できていないが、リストをたどるのは関数`v`であり、末端に到達したら関数`u`によってインクリメントする、という構造になっている。
2進数表記は`main`関数の再帰で実現している。
