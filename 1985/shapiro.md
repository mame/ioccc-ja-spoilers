---
id: 1985/shapiro
year: 1985
order: 5
authors: "Carl_Shapiro"
orig_url: "https://www.ioccc.org/1985/shapiro/shapiro.c"
hint_url: "https://www.ioccc.org/1985/shapiro/hint.html"
award: "Grand prize for most well-rounded in confusion"
award_ja: "もっとも混乱たっぷりの大賞"
---

## 動作

迷路生成。

```
$ gcc -o shapiro shapiro.c

$ ./shapiro
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
|_   _  |  _    |    _ _  |  _ _  |  _   _  |  _ _ _  |_ _ _ _    |   | |  _  |
|  _  |_ _|_ _|_ _|  _ _| | |   | |_|  _| |_ _ _ _  |_ _ _ _ _ _| |_| | |_  | |
|_|  _|  _ _    | |_ _  | | |_|_ _|  _|  _ _ _ _ _ _|  _ _ _ _  |_  | | |  _|_|
|  _|  _|  _| | | |  _ _|_| |  _  |_ _|  _ _ _ _|  _| |   |   | |  _| |  _|   |
| |  _|  _|   | |_ _|  _ _ _| | |_ _  |  _  |_   _|  _| | | |_  | |  _| |  _| |
| |_   _|_  |_|  _ _|    _ _|_ _  | |  _  |_  |_ _  | | | | | | | |_  |_ _| | |
|_  | |   |_  | |  _ _|_ _ _  |  _| |_  |_  |_  |_ _|_  | | |_ _  |  _ _  |_  |
|  _|  _|_  | | | |  _ _  | |_ _ _ _|   | | |  _|  _ _  |_|_  | | |_ _ _|_    |
|   | |   |_| | |_ _|   |_  |_   _| | | |_  | |_ _|   |_  |  _|_ _ _ _ _ _ _| |
| |_ _| |_  | |    _ _|_ _| |  _ _ _| | |  _|_  |  _| | | | |_  |     |_  |  _|
|_|  _| |  _  | |_ _   _   _|_  |  _  | | |_   _|_  |_ _| |_ _ _| | |_ _ _| | |
|  _|  _| |  _| |_  |_  | |   | |_  | | |_  | |  _ _| |  _| |  _ _|_ _ _ _ _| |
|_  | |_ _| | |_ _  | | | | |_ _|  _| |_  |_|_ _|  _|_ _  |  _|_ _    |   |   |
|  _| |   | | |   | | | |_ _  | |_  | | |_ _ _ _| |  _  |_ _ _ _  | |_ _|_ _| |
| |  _| |_| | | | |_ _|_    |_| |  _|_ _|_   _  |_  |_ _|   |   | | |_ _ _ _ _|
| |_  |  _ _|_ _|_  |    _|_ _ _|_ _   _  |_ _|_ _  |  _ _|_ _|_ _ _ _ _ _ _  |
| |   | |  _  |  _ _|_| |  _ _ _   _ _  | |_   _ _ _  |  _  |_  |  _|  _ _  | |
|   | |_|_ _| |_ _ _ _ _|_  |_ _ _|  _ _| |  _| |   | | |  _|  _|_  | |   |_| |
|_| | |  _  | |  _ _  |   | |   |_  |  _ _|_ _ _| |_ _| | | |  _  | |_ _| |  _|
|  _|_ _ _| |_ _|_  | | |_| | |_ _ _|_ _|   |   |_ _ _| | |_ _  |_ _|  _ _|_  |
|   | |  _ _ _ _ _ _| | |   | |_ _  |  _ _|_| |_ _ _  | |_  |_  |  _ _|  _ _ _|
|_|_ _|_ _ _ _ _ _ _ _|_ _|_|_ _ _ _|_ _ _ _ _|_ _ _ _ _|_ _ _ _ _ _ _ _ _ _  |
```

## 解説

ショートコーディング系の初の作品。
短さのわりに予想外に複雑な挙動をとることで驚かせる。

`#define C 39`の数字を書き換えることで、迷路の横幅を調整できる。
マクロによる難読化を使っていないところが個人的には好印象。
