---
id: 2006/sykes1
year: 2006
order: 10
authors: "Stephen_Sykes"
orig_url: "https://www.ioccc.org/2006/sykes1/sykes1.c"
hint_url: "https://www.ioccc.org/2006/sykes1/hint.text"
title: "IOCCC 2006: Best Assembler"
award_ja: "最高のアセンブラ"
---

## 動作

[Bedlam cube](https://en.wikipedia.org/wiki/Bedlam_cube)というパズルを解く。

実行すると端末に解き方が描かれる。

```
$ gcc -o sykes1 sykes1.c

$ ./sykes1








                +----+                        +----+
        +----+-//////|-+              +----+-//////|-+
       ///////+----+/|/|             ///////+----+/|/|
      +----+--||||||/+/|            +----+--||||||/+/|
      ||||||||||||||///+            ||||||||||||||///+
      ||||||||||||||///             ||||||||||||||///
      +----+--||||||/+              +----+--||||||/+
              ||||||/                       ||||||/
              +----+                        +----+












                                              +----+
                       +----+         +----+-/    /|-+----+
                   +----+///|        /      +----+----+///|
                  //////|///|       +----+--|   //////|///|
                 +----+/|///+       |       |  +----+/|///+
              +--||||||/+///        |       +--||||||/+///
             ////||||||///+         +----+-////||||||///+
            +----||||||///                +----||||||///
            |||||||||||/+                 |||||||||||/+
            |||||||||||/                  |||||||||||/
            +----+----+                   +----+----+










                                              +----+
                                      +----+-/    /|-+----+
              +----+                 /      +----+----+  /|
             //////|                +----+-//////    /| + |
            ///////|                |     //////----+ |/  +
           ////////+                |    //////|    | +  /
          +----+///                 +---+----+/|    |   +
       +--||||||/+----+              +--||||||/+----+  /
      ////||||||//////|             ////||||||//////| +
     +----||||||----+/|            +----||||||----+/|/
     ||||||||||||||||/+            ||||||||||||||||/+
     ||||||||||||||||/             ||||||||||||||||/
     +----+----+----+              +----+----+----+



             +----+                        +----+
            //////|                       //////|
           +----+/|                      +----+/|
           ||||||/+                      ||||||/+
           ||||||/|                      ||||||/|
           +----+/|                      +----+----+
          ////////+                   +-//////    /|-+----+
         +----+///                   / +----+----+----+  /|
         ||||||/+                   +--||||/    /    /| + |
         ||||||/|                   |  |||+    +----+ |/  +
         +----+/|                   |  +-/    /|    | +  /
        ////////+                   +-//+----+ |    |   +
       +----+///                     +--|    | +----+  /
       ||||||/+                     /   |    |/    /| +
       ||||||/                     +----+    +----+ |/
       +----+                      |              | +
                                   |              |/
                                   +----+----+----+


```

...

```

                                      +----+----+----+----+
                                     /         /         /|
                                    +----+    +----+----+ |
                                   /    /         /    /| +
              +----+              +    +----+----+----+ | |
             //////|             /         //////    /| + |
            /////+----+         +    +----/////+----+ | | +
           ///////////|        /    /    ///////////| + | |
          +----+----+/|       +----+----+----+----+/| | + |
          |||||||||||/+       |    |    |||||||||||/+ |/  +
          |||||||||||/        |    |    |||||||||||/  +  /|
          +----+----+         +----+    +----+----+  /| + |
            +----+            |    |    |         | + |/  +
                              |    |    |         | | +  /
                              +    +----+----+    + |   +
                              |         |    |    | +  /
                              |         |    |    |/| +
                              +    +----+    +----+ |/
                              |    |              | +
                              |    |              |/
                              +----+----+----+----+
```

そして同時に、より見やすいgifファイルも生成される。

{% include img.html src="2006-sykes1.gif" desc="Bedlem cubeの解を説明しているアニメGIF" %}

## 解説

解は19186通りあるらしく、コマンドライン引数で何個目に見つかった解を表示するかを指定できる。

```
$ ./sykes1 10
```

コードの形状は立方体が5つ。
Bedlam cubeのパーツはほとんどがペンタキューブ（立方体が5つくっついた形）だからだと思われる。
正確には、12個のペンタキューブと1個のテトラキューブ（立方体4つ）とのこと。

コードはhtmlとしても解釈できる（validなhtmlではないが、多くのブラウザなら開ける）。
このhtmlは、生成されたgifを表示するものになっている。

生成されるGIFは無圧縮で2.2 MBもある。
GIFの圧縮アルゴリズムであるLZWは[Unisysが利用料請求の方針を示していた](https://ja.wikipedia.org/wiki/Graphics_Interchange_Format#%E7%89%B9%E8%A8%B1%E5%95%8F%E9%A1%8C%E3%81%A8%E3%81%9D%E3%81%AE%E9%A1%9B%E6%9C%AB)ことで有名だったが、2003年ごろに特許が失効したので、あまり関係ない。
"I don't violate any of those old Unisys patents!"と言っているが、単に無圧縮のほうが出力しやすいためと思われる。
なお、本記事のGIF画像はImageMagickで圧縮をかけたものになっている。

賞名のassemblerは、「組み立てる人」という意味と、アセンブラ言語から機械語に翻訳する[アセンブラ](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E)とをかけている。
